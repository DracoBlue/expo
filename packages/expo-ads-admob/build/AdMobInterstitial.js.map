{"version":3,"file":"AdMobInterstitial.js","sourceRoot":"","sources":["../src/AdMobInterstitial.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,kBAAkB,EAAE,YAAY,EAAE,MAAM,WAAW,CAAC;AAC7D,OAAO,EAAE,QAAQ,EAAuB,MAAM,cAAc,CAAC;AAE7D,MAAM,wBAAwB,GAA4B,kBAAkB,CAAC,+BAA+B,CAAC;AAE7G,MAAM,wBAAwB,GAAG,IAAI,YAAY,CAAC,wBAAwB,CAAC,CAAC;AAE5E,MAAM,UAAU,GAAG;IACjB,qBAAqB;IACrB,2BAA2B;IAC3B,qBAAqB;IACrB,sBAAsB;IACtB,kCAAkC;CACnC,CAAC;AASF,MAAM,aAAa,GAAgE,EAAE,CAAC;AAEtF,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE;IAC7B,aAAa,CAAC,SAAS,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;AACvC,CAAC,CAAC,CAAC;AAEH,MAAM,gBAAgB,GAAG,CAAC,IAAmB,EAAE,OAAiB,EAAE,EAAE;IAClE,IAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;QAC7B,aAAa,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,EAAE,wBAAwB,CAAC,WAAW,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;KACvF;SAAM;QACL,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,kBAAkB,CAAC,CAAC;KACxD;AACH,CAAC,CAAC;AAEF,MAAM,mBAAmB,GAAG,CAAC,IAAmB,EAAE,OAAiB,EAAE,EAAE;IACrE,MAAM,iBAAiB,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAC3D,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,iBAAiB,EAAE;QAC3D,OAAO;KACR;IACD,iBAAiB,CAAC,MAAM,EAAE,CAAC;IAC3B,aAAa,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACtC,CAAC,CAAC;AAEF,MAAM,kBAAkB,GAAG,GAAG,EAAE,CAC9B,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;AAE1F,eAAe;IACb,WAAW,EAAE,CAAC,EAAU,EAAiB,EAAE,CAAC,wBAAwB,CAAC,WAAW,CAAC,EAAE,CAAC;IACpF,eAAe,EAAE,CAAC,EAAU,EAAiB,EAAE,CAAC,wBAAwB,CAAC,eAAe,CAAC,EAAE,CAAC;IAC5F,cAAc,EAAE,GAAkB,EAAE,CAAC,wBAAwB,CAAC,SAAS,EAAE;IACzE,WAAW,EAAE,GAAkB,EAAE,CAAC,wBAAwB,CAAC,MAAM,EAAE;IACnE,cAAc,EAAE,GAAkB,EAAE,CAClC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAC9B,IAAI,QAAQ,CAAC,EAAE,KAAK,KAAK,EAAE;YACzB,wBAAwB,CAAC,SAAS,EAAE;iBACjC,IAAI,CAAC,OAAO,CAAC;iBACb,KAAK,CAAC,MAAM,CAAC,CAAC;SAClB;aAAM;YACL,MAAM,CAAC,IAAI,KAAK,CAAC,2DAA2D,CAAC,CAAC,CAAC;SAChF;IACH,CAAC,CAAC;IACJ,eAAe,EAAE,GAAqB,EAAE,CAAC,wBAAwB,CAAC,UAAU,EAAE;IAC9E,gBAAgB;IAChB,mBAAmB;IACnB,kBAAkB;CACnB,CAAC","sourcesContent":["import { NativeModulesProxy, EventEmitter } from 'expo-core';\nimport { Platform, EmitterSubscription } from 'react-native';\n\nconst AdMobInterstitialManager: { [name: string]: any } = NativeModulesProxy.ExpoAdsAdMobInterstitialManager;\n\nconst adMobInterstitialEmitter = new EventEmitter(AdMobInterstitialManager);\n\nconst eventNames = [\n  'interstitialDidLoad',\n  'interstitialDidFailToLoad',\n  'interstitialDidOpen',\n  'interstitialDidClose',\n  'interstitialWillLeaveApplication',\n];\n\ntype EventNameType =\n  | 'interstitialDidLoad'\n  | 'interstitialDidFailToLoad'\n  | 'interstitialDidOpen'\n  | 'interstitialDidClose'\n  | 'interstitialWillLeaveApplication';\n\nconst eventHandlers: { [eventName: string]: Map<Function, EmitterSubscription> } = {};\n\neventNames.forEach(eventName => {\n  eventHandlers[eventName] = new Map();\n});\n\nconst addEventListener = (type: EventNameType, handler: Function) => {\n  if (eventNames.includes(type)) {\n    eventHandlers[type].set(handler, adMobInterstitialEmitter.addListener(type, handler));\n  } else {\n    console.log(`Event with type ${type} does not exist.`);\n  }\n};\n\nconst removeEventListener = (type: EventNameType, handler: Function) => {\n  const eventSubscription = eventHandlers[type].get(handler);\n  if (!eventHandlers[type].has(handler) || !eventSubscription) {\n    return;\n  }\n  eventSubscription.remove();\n  eventHandlers[type].delete(handler);\n};\n\nconst removeAllListeners = () =>\n  eventNames.forEach(eventName => adMobInterstitialEmitter.removeAllListeners(eventName));\n\nexport default {\n  setAdUnitID: (id: string): Promise<void> => AdMobInterstitialManager.setAdUnitID(id),\n  setTestDeviceID: (id: string): Promise<void> => AdMobInterstitialManager.setTestDeviceID(id),\n  requestAdAsync: (): Promise<void> => AdMobInterstitialManager.requestAd(),\n  showAdAsync: (): Promise<void> => AdMobInterstitialManager.showAd(),\n  dismissAdAsync: (): Promise<void> =>\n    new Promise((resolve, reject) => {\n      if (Platform.OS === 'ios') {\n        AdMobInterstitialManager.dismissAd()\n          .then(resolve)\n          .catch(reject);\n      } else {\n        reject(new Error('Dismissing ads programmatically is supported only on iOS.'));\n      }\n    }),\n  getIsReadyAsync: (): Promise<boolean> => AdMobInterstitialManager.getIsReady(),\n  addEventListener,\n  removeEventListener,\n  removeAllListeners,\n};\n"]}